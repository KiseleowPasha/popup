!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self).popup={})}(this,(function(n){"use strict";function e(n,e,t,o){return new(t||(t=Promise))((function(i,r){function a(n){try{c(o.next(n))}catch(n){r(n)}}function u(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,u)}c((o=o.apply(n,e||[])).next())}))}function t(n,e){var t,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function u(u){return function(c){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,u[0]&&(a=0)),a;)try{if(t=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,o=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(n,a)}catch(n){u=[6,n],o=0}finally{t=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}var o=window.location.href,i={all:function(){return!0},onlyPages:function(n){return 0===n.length||n.some((function(n){return o.includes(n)}))},urlStartsAt:function(n){return 0===n.length||n.some((function(n){return o.startsWith(n)}))},urlEndsAt:function(n){return 0===n.length||n.some((function(n){return o.endsWith(n)}))},exactUrl:function(n){return n.includes(o)}};
/*! js-cookie v3.0.1 | MIT */
function r(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)n[o]=t[o]}return n}var a=function n(e,t){function o(n,o,i){if("undefined"!=typeof document){"number"==typeof(i=r({},t,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var u in i)i[u]&&(a+="; "+u,!0!==i[u]&&(a+="="+i[u].split(";")[0]));return document.cookie=n+"="+e.write(o,n)+a}}return Object.create({set:o,get:function(n){if("undefined"!=typeof document&&(!arguments.length||n)){for(var t=document.cookie?document.cookie.split("; "):[],o={},i=0;i<t.length;i++){var r=t[i].split("="),a=r.slice(1).join("=");try{var u=decodeURIComponent(r[0]);if(o[u]=e.read(a,u),n===u)break}catch(n){}}return n?o[n]:o}},remove:function(n,e){o(n,"",r({},e,{expires:-1}))},withAttributes:function(e){return n(this.converter,r({},this.attributes,e))},withConverter:function(e){return n(r({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}({read:function(n){return'"'===n[0]&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),u="DEFAULT_COOKIE_NAME_SHOW_POPUP_COUNT_CHECK",c="DEFAULT_COOKIE_NAME_COUNT_POPUP_SHOWED",s=function(){var n;return Number(null!==(n=a.get(c))&&void 0!==n?n:0)},d={dontStop:function(){return!0},showCount:function(n){return a.set(u,"true"),!(s()>=Number(n))}},l=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,{exports:{}});function f(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===t&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}!function(n,e){!function(n){var e,t=function(){return t=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},t.apply(this,arguments)},o=1e3,i=function(){function n(n){var e=this;this.callback=n,this.timer=null,this.createTimer=function(){e.timer=setTimeout((function(){e.secondsPassed+=o/o,e.callback(e.secondsPassed),e.createTimer()}),o)},this.destroyTimer=function(){e.running=!1,null!=e.timer&&clearTimeout(e.timer)},this.secondsPassed=0,this.running=!1,this.pause=function(){e.destroyTimer()},this.start=function(){e.running=!0,e.createTimer()},this.stop=function(){e.secondsPassed=0,e.destroyTimer()},this.reset=function(){e.stop(),e.start()}}return n}();n.Event=void 0,(e=n.Event||(n.Event={})).click="click",e.keydown="keydown",e.mousemove="mousemove",e.scroll="scroll",e.resize="resize",e.focus="focus",e.submit="submit";var r=function(e,t){var o=e.defaultInactiveTime,r=e.defaultActiveEvents;if(void 0!==o&&o<=0)throw new Error("Default inactive time must be at least one second");if(void 0!==r){var a=Object.keys(n.Event);r.forEach((function(n){if(!a.includes(n))throw new Error("Activity events must be array of ".concat(a.join(",")))}))}var u={totalTime:0,activeTime:0,idleTime:0},c=new i((function(n){n===o&&(d.start(),l.stop(),u.activeTime=0)})),s=new i((function(n){u.totalTime=n,t(u)})),d=new i((function(n){return u.idleTime=n})),l=new i((function(n){return u.activeTime=n}));c.start(),s.start(),l.start();var f=function(){c.reset(),d.stop(),u.idleTime=0,l.running||l.reset()};null==r||r.forEach((function(n){return document.addEventListener(n,f)}))},a=function(e){window.addEventListener(n.Event.scroll,(function(){var n=Math.floor(scrollY/(document.body.scrollHeight-innerHeight)*100);if(n<=0&&e(0),n>=100)return e(100);e(n)}))};
/*! js-cookie v3.0.1 | MIT */
function u(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)n[o]=t[o]}return n}var c={read:function(n){return'"'===n[0]&&(n=n.slice(1,-1)),n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(n){return encodeURIComponent(n).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function s(n,e){function t(t,o,i){if("undefined"!=typeof document){"number"==typeof(i=u({},e,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var a in i)i[a]&&(r+="; "+a,!0!==i[a]&&(r+="="+i[a].split(";")[0]));return document.cookie=t+"="+n.write(o,t)+r}}function o(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],o={},i=0;i<t.length;i++){var r=t[i].split("="),a=r.slice(1).join("=");try{var u=decodeURIComponent(r[0]);if(o[u]=n.read(a,u),e===u)break}catch(n){}}return e?o[e]:o}}return Object.create({set:t,get:o,remove:function(n,e){t(n,"",u({},e,{expires:-1}))},withAttributes:function(n){return s(this.converter,u({},this.attributes,n))},withConverter:function(n){return s(u({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(n)}})}var d=s(c,{path:"/"}),l=function(){var n,e="DEFAULT_COOKIE_NAME_STATISTIC_COUNT_ALL_VISITS",t=+(null!==(n=d.get(e))&&void 0!==n?n:"0")+1;return d.set(e,t.toString()),t},f=function(n){window.addEventListener("load",(function(){var e=l();n(e)}))},m=function(n){document.onvisibilitychange=function(){"hidden"===document.visibilityState&&n()}},_=function(){var n,e="DEFAULT_COOKIE_NAME_STATISTIC_COUNT_VISITED_PAGES",t=window.location.pathname,o=JSON.parse(null!==(n=d.get(e))&&void 0!==n?n:JSON.stringify([]));return o.includes(t)||o.push(t),d.set(e,JSON.stringify(o)),o.length},p=function(n){window.addEventListener("load",(function(){var e=_();n(e)}))},v={defaultInactiveTime:3,defaultActiveEvents:[n.Event.click,n.Event.scroll,n.Event.mousemove,n.Event.keydown,n.Event.resize]},h=function(n){var e=t(t({},v),n),o=e.defaultInactiveTime,i={defaultActiveEvents:e.defaultActiveEvents,defaultInactiveTime:o};return void 0===document&&console.warn("User activity library was designed to work only in the browser"),{userActivity:function(n){return r(i,n)},userVisits:f,userScrolling:a,userLeaving:m,userPagesVisits:p}};n.initUserActivity=h,Object.defineProperty(n,"__esModule",{value:!0})}(e)}(0,l.exports);var m="backdrop-module_backdrop__4QJug";f(".backdrop-module_backdrop__4QJug {\n  opacity: 0;\n  top: 0;\n  left: 0;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  z-index: 999;\n  background: rgba(0, 0, 0, 0.5);\n}\n");var _="animation-module_fadeIn__1QiPl",p="animation-module_fadeOut__Akftx",v="animation-module_lateFadeIn__JXBoB",h="animation-module_flyOut__xdQaj",g="animation-module_center__611SO",y="animation-module_foldOut__VWzTL",w="animation-module_leftBottom__C7fAw",b="animation-module_rightBottom__4ZcJh";f(".animation-module_fadeIn__1QiPl {\n  animation: animation-module_fadeIn__1QiPl 0.5s ease-in;\n  animation-fill-mode: forwards;\n}\n\n.animation-module_fadeOut__Akftx {\n  animation: animation-module_fadeOut__Akftx 0.5s ease-in;\n  animation-fill-mode: forwards;\n}\n\n.animation-module_lateFadeIn__JXBoB {\n  animation: animation-module_fadeIn__1QiPl 1s ease-in;\n  animation-fill-mode: forwards;\n}\n\n.animation-module_flyOut__xdQaj.animation-module_center__611SO {\n  animation: animation-module_flyOutCenter__50jgn 0.5s ease-in;\n  animation-fill-mode: forwards;\n}\n\n.animation-module_foldOut__VWzTL.animation-module_center__611SO {\n  animation: animation-module_foldOutCenter__qsXGA 0.5s ease-in;\n  animation-fill-mode: forwards;\n}\n\n.animation-module_flyOut__xdQaj.animation-module_leftBottom__C7fAw, .animation-module_flyOut__xdQaj.animation-module_rightBottom__4ZcJh  {\n  animation: animation-module_flyOutBottom__xQDbO 0.5s ease-in;\n  animation-fill-mode: forwards;\n}\n\n.animation-module_foldOut__VWzTL.animation-module_leftBottom__C7fAw, .animation-module_foldOut__VWzTL.animation-module_rightBottom__4ZcJh {\n  animation: animation-module_foldOutBottom__fPIIh 1s ease-in;\n  animation-fill-mode: forwards;\n}\n\n.animation-module_center__611SO {\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.animation-module_leftBottom__C7fAw {\n  top: auto;\n  bottom: 0;\n  left: 0;\n  right: auto;\n}\n\n.animation-module_rightBottom__4ZcJh {\n  top: auto;\n  bottom: 0;\n  left: auto;\n  right: 0;\n}\n\n@keyframes animation-module_fadeIn__1QiPl {\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes animation-module_fadeOut__Akftx {\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n    display: none;\n  }\n}\n\n@keyframes animation-module_flyOutCenter__50jgn {\n  from {\n    top: -50%;\n    opacity: 1;\n  }\n\n  to {\n    opacity: 1;\n    top: 50%;\n  }\n}\n\n@keyframes animation-module_flyOutBottom__xQDbO {\n  from {\n    top: auto;\n    opacity: 1;\n    bottom: 150%;\n  }\n\n  to {\n    opacity: 1;\n    top: auto;\n    bottom: 0;\n  }\n}\n\n@keyframes animation-module_foldOutCenter__qsXGA {\n  from {\n    top: -50%;\n    transform: rotate3d(1, 0, 0, -180deg) translate(-50%, -50%);\n    opacity: 1;\n  }\n\n  to {\n    opacity: 1;\n    transform: rotate3d(1, 0, 0, 0deg) translate(-50%, -50%);\n    top: 50%;\n  }\n}\n\n@keyframes animation-module_foldOutBottom__fPIIh {\n  from {\n    bottom: 150%;\n    top: auto;\n    transform: rotate3d(1, 0, 0, -180deg);\n    opacity: 1;\n  }\n\n  to {\n    opacity: 1;\n    transform: rotate3d(1, 0, 0, 0deg);\n    top: auto;\n    bottom: 0;\n  }\n}");var O="main-module_hidden__ShWII";f(".main-module_hidden__ShWII {\n    display: none;\n}\n");var E=function(n,e){var t=document.createElement(n);t.classList.add(e);return document.body.appendChild(t),{element:t,appendChild:function(n){return t.appendChild(n)},animation:{fadeIn:function(){return t.classList.add(_)},fadeOut:function(){return t.classList.add(p)},foldOut:function(){return t.classList.add(y)},lateFadeIn:function(){return t.classList.add(v)},show:function(){return t.classList.remove(O)},hide:function(){return t.classList.add(O)},flyOut:function(){return t.classList.add(h)}},placement:{center:function(){return t.classList.add(g)},leftBottom:function(){return t.classList.add(w)},rightBottom:function(){return t.classList.add(b)}}}},T="container-module_container__PQouW",A="container-module_close__u08l2";f(".container-module_container__PQouW {\n  opacity: 0;\n  position: fixed;\n  width: 500px;\n  height: auto;\n  z-index: 9999;\n  padding: 20px;\n  background: #fff;\n  border-radius: 5px;\n}\n\n.container-module_close__u08l2 {\n  cursor: pointer;\n  position: absolute;\n  right: 32px;\n  top: 32px;\n  width: 32px;\n  height: 32px;\n  opacity: 0.3;\n}\n\n.container-module_close__u08l2:hover {\n  opacity: 1;\n}\n\n.container-module_close__u08l2:before,\n.container-module_close__u08l2:after {\n  position: absolute;\n  left: 15px;\n  content: ' ';\n  height: 33px;\n  width: 2px;\n  background-color: #333;\n}\n\n.container-module_close__u08l2:before {\n  transform: rotate(45deg);\n}\n\n.container-module_close__u08l2:after {\n  transform: rotate(-45deg);\n}\n\n.container-module_leftBottom__wMWA- {\n  transform: none;\n  top: auto;\n  bottom: 0;\n  right: auto;\n  left: 0;\n}");var I=function(n){if(function(n){var e=n.stopToShow.find((function(n){return"showCount"===n.id}));return!e||Number(e.input)>s()}(n)){!function(){var n,e=Boolean(a.get(u)),t=Number(null!==(n=a.get(c))&&void 0!==n?n:0);e&&a.set(c,String(t+1))}();var e=document.querySelectorAll("[id*=subscribe-form]"),t=function(n){var e=E("div",T),t=E("div",A);return t.element.addEventListener("click",n),e.appendChild(t.element),e}((function(){o.animation.fadeOut(),t.animation.hide(),document.body.style.overflow="visible"}));!function(n,e){!function(n,e){var t=e.placement;(0,n.placement[t])()}(n,e),function(n,e){var t=e.animation;(0,n.animation[t])()}(n,e)}(t,n);var o=E("div",m);o.animation.fadeIn(),t.appendChild(e[0]),document.body.style.overflow="hidden"}},x=l.exports.initUserActivity(),C=x.userVisits,S=x.userLeaving,k=x.userScrolling,P=x.userActivity,B=x.userPagesVisits,L={allVisits:0,visitedPages:0},U={showedAfterScroll:!1,showedAfterLeaving:!1,showedAfterIdle:!1};C((function(n){return L.allVisits=n})),B((function(n){return L.visitedPages=n}));var N={always:function(n){return I(n)},scrollDown:function(n,e){return k((function(t){if(!(t<Number(e)||U.showedAfterScroll))return U.showedAfterScroll=!0,I(n)}))},userActivity:function(n,e){return P((function(t){if(t.totalTime===Number(e))return I(n)}))},userLeaving:function(n){return S((function(){if(!U.showedAfterLeaving)return U.showedAfterLeaving=!0,I(n)}))},userIdle:function(n,e){return P((function(t){if(t.idleTime>Number(e)&&!U.showedAfterIdle)return U.showedAfterIdle=!0,I(n)}))},userVisits:function(n,e){L.allVisits===Number(e)&&I(n)},userPageVisits:function(n,e){L.visitedPages===Number(e)&&I(n)}},D=function(n){var e=n.whenToShow,t=n.stopToShow,o=n.pagesToShow,r=function(n){return!n.map((function(n){return d[n.id](n.input)})).includes(!1)}(t)&&function(n){return!n.map((function(n){return i[n.id](n.tags)})).includes(!1)}(o);r&&function(n,e){e.forEach((function(e){return N[e.id](n,e.input)}))}(n,e)},j={1:"mon",2:"tue",3:"wed",4:"thu",5:"fri",6:"sat",7:"sun"},F=function(n){var e=(new Date).getDay();return n.includes(j[e])},V={mac:"Mac OS",win:"Windows",linux:"Linux"},R=window.navigator.userAgent,W=function(n){return n.some((function(n){return!!R.includes(V[n])}))},Q=function(n){var e="";return e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(window.navigator.userAgent)?window.innerWidth>500?"table":"phone":"desc",n.includes(e)},z=function(n){var e=document.referrer;return!(""!==e||!n.includes("direct"))||(!(!/google|yandex| baidu | yahoo | bing/.test(e)||!n.includes("search"))||(!(!/facebook|youTube| whatsApp | instagram | tikTok | telegram | snapchat | twitter | vk/.test(e)||!n.includes("social"))||!(!/http/.test(e)||!n.includes("link"))))},M=function(n){var e=Boolean(a.get("DEFAULT_COOKIE_NAME_FOR_POPUP_USER_VISITED"));return a.set("DEFAULT_COOKIE_NAME_FOR_POPUP_USER_VISITED","true"),2===n.length||(!(!n.includes("returning")||!e)||!(!n.includes("uniq")||e))},J=function(n){(function(n){var e=n.days,t=n.os,o=n.platform,i=n.traffic,r=n.visitors;return![F(e),W(t),Q(o),z(i),M(r)].includes(!1)})(n)&&D(n)},K=function(n){return fetch(n).then((function(n){return n.json()})).then((function(n){return JSON.parse(n.result.settings)}))},H=new Promise((function(n){window.addEventListener("load",(function(){return e(void 0,void 0,void 0,(function(){var e,o;return t(this,(function(t){return e=document.getElementById("selzy-subscribe-form")||document.getElementById("unisender-subscribe-form"),o=null==e?void 0:e.dataset.settings,n(o),[2]}))}))}))})),q=function(n){return void 0===n&&(n="https://apig.devenv.local"),H.then((function(o){return e(void 0,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return[4,K("".concat(n,"/subscribe-form/settings/").concat(o,"?lang=en"))];case 1:return[2,e.sent()]}}))}))})).then((function(n){return J(n)}))};window.popupForSubscriptionsForm=q,n.popup=q,Object.defineProperty(n,"__esModule",{value:!0})}));
